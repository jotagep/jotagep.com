---
import type { CollectionEntry } from 'astro:content'
import { changeLanguage } from 'i18next'

import type { Props as HeadTagsProps } from '@/components/seo/HeadTags.astro'

import config from '@/data/config'

import BlogLayout from '@/layouts/BlogLayout.astro'

import { getPosts } from '@/lib/contentApi'

changeLanguage('en')

export async function getStaticPaths({ paginate }) {
  const posts = await getPosts()
  return paginate(posts, {
    pageSize: config.postPerPage,
  })
}
interface Props {
  page: Page<CollectionEntry<'posts'>>
}
const { page } = Astro.props
const seo: HeadTagsProps['seo'] = {
  title: 'Template - All Posts',
}
---

<BlogLayout {page} {seo} />
